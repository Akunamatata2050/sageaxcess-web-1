<div class="page" ng-controller="OrganizationsCtrl as organizationCtrl">
 <h4>Key Pairs</h4>
 <div>

    <div class="table-responsive">
        <table class="table table-striped table-bordered no-border no-margin">      
            <thead class="left-align">
                <tr>  
                 <th class="sorting" ng-class="{'sorting_asc':organizationCtrl.row == 'name', 'sorting_desc':organizationCtrl.row == '-name'}" ng-click="organizationCtrl.order('name')">                        
                    <span ng-i18next="list.key.columns.name"></span>
                </th>                                   
                <th class="sorting" ng-class="{'sorting_asc':organizationCtrl.row == 'key', 'sorting_desc':organizationCtrl.row == '-key'}" ng-click="organizationCtrl.order('key')">                        
                    <span ng-i18next="list.key_pair.columns.key"></span>
                </th>
                <th>
                </th>
                <th class="sorting" ng-class="{'sorting_asc':organizationCtrl.row == 'value', 'sorting_desc':organizationCtrl.row == '-value'}" ng-click="organizationCtrl.order('value')">                        
                    <span ng-i18next="list.key_pair.columns.value"></span>
                </th>
               
                <th>
                </th>
                 <th class="sorting" ng-class="{'sorting_asc':organizationCtrl.row == 'timestamp', 'sorting_desc':organizationCtrl.row == '-timestamp'}" ng-click="organizationCtrl.order('timestamp')">                        
                    <span ng-i18next="list.key_pair.columns.timestamp"></span>
                </th>
                <th>
                </th>

            </tr>
        </thead>
        
        <tbody>         

            <tr class="plain-data" ng-repeat="keyPair in organizationCtrl.keyPairs" >

                <td class="col-sm-2">
                    <input type="text" class="form-control" ng-model="keyPair.Name" ng-maxlength="50" ng-if="!keyPair.EntityID">
                    <p class="form-control-static" ng-bind="keyPair.Name" ng-if="keyPair.EntityID" style="white-space:pre-wrap;display:block;word-break:break-all;word-wrap:break-word"></p>
                </td>
                <td class="col-sm-3">
                    <p ng-if="!keyPair.Key" class="form-control-static col-md-11">Auto generated</p>
                    <p ng-if="keyPair.Key" class="form-control-static col-md-11 wrapword" ng-bind="keyPair.Key"></p> 
                    <a ng-if="organizationCtrl.supportsClipboardApi && keyPair.Key" class="col-md-1" ng-mouseover="organizationCtrl.resetTooltip($index)" ng-click="organizationCtrl.populateTooltip($index)" tooltip="{{organizationCtrl.getTooltip($index)}}" ngclipboard data-clipboard-text="{{keyPair.Key}}" tooltip-placement="right"><i class="fa fa-clipboard" style="margin-top:12px;"></i></a>
                </td>
                <td class="col-sm-1" style="text-align:center;">
                    <p class="form-control-static">
                        <a href="" tooltip="Show Run Command" ng-if="keyPair.EntityID" ng-click="organizationCtrl.showKeyPairCommand(keyPair.Key)" tooltip-placement="right">
                            <i class="fa fa-terminal"></i>
                        </a>
                    </p>
                </td>
                <td class="col-sm-3">
                    <p ng-if="!keyPair.Value" class="form-control-static col-md-11">Auto generated</p>
                    <p ng-if="keyPair.Value" class="form-control-static col-md-11 wrapword" ng-bind="keyPair.Value"></p>
                    <a ng-if="organizationCtrl.supportsClipboardApi && keyPair.Value" class="col-md-1" ng-mouseover="organizationCtrl.resetTooltip($index)" ng-click="organizationCtrl.populateTooltip($index)" tooltip="{{organizationCtrl.getTooltip($index)}}" ngclipboard data-clipboard-text="{{keyPair.Value}}" tooltip-placement="right"><i class="fa fa-clipboard" style="margin-top:12px;"></i></a>
                </td>
                <td class="col-sm-1" style="text-align:center;">
                    <p class="form-control-static">
                        <a href="" tooltip="Show Run Command" ng-if="keyPair.EntityID" ng-click="organizationCtrl.showKeyPairCommand(keyPair.Value)" tooltip-placement="right">
                            <i class="fa fa-terminal"></i>
                        </a>
                    </p>
                </td>
                <td class="col-sm-2" style="text-align:center;">
                     <p ng-if="keyPair.Key" class="form-control-static col-md-11 wrapword" ng-bind="keyPair.ChangedOn"></p>
                </td>
                <td class="col-sm-1" style="text-align:center;">
                    <button class="btn add-btn" ng-if="!keyPair.EntityID" ng-click="keyPair.Name && organizationCtrl.addKeyPair(keyPair)" ng-disabled="organizationCtrl.saving || !keyPair.Name">
                        <i class="fa fa-check"></i>
                    </button> 
                    <p class="form-control-static">
                        <a href="" ng-if="keyPair.EntityID" ng-click="organizationCtrl.removeKeyPair(keyPair)">
                            <i class="fa fa-times text-danger"></i>
                        </a>
                    </p>
                </td>
            </tr>  
        </tbody>
    </table>
</div>
</div>
</div>
